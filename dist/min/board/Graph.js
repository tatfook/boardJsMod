/* 2017-11-22 */
var graphInit=Graph.prototype.init;Graph.prototype.init=function(){function t(t){e=t,(mxClient.IS_QUIRKS||7==document.documentMode||8==document.documentMode)&&(e=mxUtils.clone(t))}graphInit.apply(this,arguments);var e=null;mxEvent.addListener(this.container,"mouseenter",t),mxEvent.addListener(this.container,"mousemove",t),mxEvent.addListener(this.container,"mouseleave",function(t){e=null}),this.isMouseInsertPoint=function(){return null!=e};var n=this.getInsertPoint;this.getInsertPoint=function(){return null!=e?this.getPointForEvent(e):n.apply(this,arguments)};var i=this.layoutManager.getLayout;this.layoutManager.getLayout=function(t){var e=this.graph.view.getState(t),n=null!=e?e.style:this.graph.getCellStyle(t);if("undefined"!=typeof mxRackContainer&&"rack"==n.childLayout){var r=new mxStackLayout(this.graph,!1);return r.setChildGeometry=function(t,e){if(e.height=Math.max(e.height,20),e.height/20>1){var n=e.height%20;e.height+=n>10?20-n:-n}this.graph.getModel().setGeometry(t,e)},r.fill=!0,r.unitSize=20|mxRackContainer.unitSize,r.marginLeft=n.marginLeft||0,r.marginRight=n.marginRight||0,r.marginTop=n.marginTop||0,r.marginBottom=n.marginBottom||0,r.resizeParent=!1,r}return i.apply(this,arguments)}},Graph.prototype.getDecompressData=function(t){var e=mxUtils.parseXml(t);if("object"==typeof e){var n=e.querySelector("diagram"),i=n.getAttribute("version"),r=n.innerHTML;if("0.0.1"==i){var o=this.decompress(r);if(o)return mxUtils.parseXml(o)}}return null},Graph.prototype.compress=function(t){if("function"==typeof require)e=require("pako");else var e=window.pako;if(null==t||0==t.length||void 0===e)return t;var n=this.bytesToString(e.deflateRaw(encodeURIComponent(t)));return window.btoa?btoa(n):Base64.encode(n,!0)},Graph.prototype.decompress=function(t){if("function"==typeof require)e=require("pako");else var e=window.pako;if(null==t||0==t.length||void 0===e)return t;var n=window.atob?atob(t):Base64.decode(t,!0);return this.zapGremlins(decodeURIComponent(this.bytesToString(e.inflateRaw(n))))};