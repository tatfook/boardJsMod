/* 2017-11-20 */
function Sidebar(e,t){this.editorUi=e,this.container=t,this.palettes=new Object,this.taglist=new Object,this.showTooltips=!0,this.graph=e.createTemporaryGraph(this.editorUi.editor.graph.getStylesheet()),this.graph.cellRenderer.antiAlias=!1,this.graph.foldingEnabled=!1,mxClient.IS_IE||mxClient.IS_IE11||(this.graph.container.style.display="none"),document.body.appendChild(this.graph.container),this.pointerUpHandler=mxUtils.bind(this,function(){this.showTooltips=!0}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerDownHandler=mxUtils.bind(this,function(){this.showTooltips=!1,this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerMoveHandler=mxUtils.bind(this,function(e){for(var t=mxEvent.getSource(e);null!=t;){if(t==this.currentElt)return;t=t.parentNode}this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerOutHandler=mxUtils.bind(this,function(e){null==e.toElement&&null==e.relatedTarget&&this.hideTooltip()}),mxEvent.addListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),mxEvent.addListener(t,"scroll",mxUtils.bind(this,function(){this.showTooltips=!0})),this.init(),mxClient.IS_SVG||((new Image).src=IMAGE_PATH+"/tooltip.png")}Sidebar.prototype.init=function(){var e=STENCIL_PATH;this.addSearchPalette(!0),this.addGeneralPalette(!0),this.addMiscPalette(!1),this.addAdvancedPalette(!1),this.addBasicPalette(e),this.addStencilPalette("arrows",mxResources.get("arrows"),e+"/arrows.xml",";whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2"),this.addUmlPalette(!1),this.addBpmnPalette(e,!1),this.addStencilPalette("flowchart","Flowchart",e+"/flowchart.xml",";whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2"),this.addImagePalette("clipart",mxResources.get("clipart"),e+"/clipart/","_128x128.png",["Earth_globe","Empty_Folder","Full_Folder","Gear","Lock","Software","Virus","Email","Database","Router_Icon","iPad","iMac","Laptop","MacBook","Monitor_Tower","Printer","Server_Tower","Workstation","Firewall_02","Wireless_Router_N","Credit_Card","Piggy_Bank","Graph","Safe","Shopping_Cart","Suit1","Suit2","Suit3","Pilot1","Worker1","Soldier1","Doctor1","Tech1","Security1","Telesales1"],null,{Wireless_Router_N:"wireless router switch wap wifi access point wlan",Router_Icon:"router switch"})},Sidebar.prototype.collapsedImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNUQyRTJFNjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNUQyRTJFNzZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MEUxNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MEUyNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhSMj6lrwAjcC1GyahV+dcZJgeIIFgA7":IMAGE_PATH+"/collapsed.gif",Sidebar.prototype.expandedImage=mxClient.IS_SVG?"data:image/gif;base64,R0lGODlhDQANAIABAJmZmf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4wLWMwNjAgNjEuMTM0Nzc3LCAyMDEwLzAyLzEyLTE3OjMyOjAwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxREY3NzBERjZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxREY3NzBFMDZGNUYxMUU1QjZEOThCNDYxMDQ2MzNCQiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFERjc3MERENkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFERjc3MERFNkY1RjExRTVCNkQ5OEI0NjEwNDYzM0JCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAQAsAAAAAA0ADQAAAhGMj6nL3QAjVHIu6azbvPtWAAA7":IMAGE_PATH+"/expanded.gif",Sidebar.prototype.tooltipImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAbCAMAAAB7jU7LAAAACVBMVEX///+ZmZn///9Y2COLAAAAA3RSTlP//wDXyg1BAAAAOElEQVR42mXQMQ4AMAgDsWv//+iutcJmIQSk+9dJpVKpVCqVSqVSqZTdncWzF8/NeP7FkxWenPEDOnUBiL3jWx0AAAAASUVORK5CYII=":IMAGE_PATH+"/tooltip.png",Sidebar.prototype.searchImage=mxClient.IS_SVG?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEaSURBVHjabNGxS5VxFIfxz71XaWuQUJCG/gCHhgTD9VpEETg4aMOlQRp0EoezObgcd220KQiXmpretTAHQRBdojlQEJyukPdt+b1ywfvAGc7wnHP4nlZd1yKijQW8xzNc4Su+ZOYfQ3T6/f4YNvEJYzjELXp4VVXVz263+7cR2niBxAFeZ2YPi3iHR/gYERPDwhpOsd6sz8x/mfkNG3iOlWFhFj8y89J9KvzGXER0GuEaD42mgwHqUtoljbcRsTBCeINpfM/MgZLKPpaxFxGbOCqDXmILN7hoJrTKH+axhxmcYRxP0MIDnOBDZv5q1XUNIuJxifJp+UNV7t7BFM6xeic0RMQ4Bpl5W/ol7GISx/eEUUTECrbx+f8A8xhiZht9zsgAAAAASUVORK5CYII=":IMAGE_PATH+"/search.png",Sidebar.prototype.enableTooltips=!0,Sidebar.prototype.tooltipBorder=16,Sidebar.prototype.tooltipDelay=300,Sidebar.prototype.dropTargetDelay=200,Sidebar.prototype.gearImage=STENCIL_PATH+"/clipart/Gear_128x128.png",Sidebar.prototype.thumbWidth=36,Sidebar.prototype.thumbHeight=36,Sidebar.prototype.thumbPadding=document.documentMode>=5?0:1,Sidebar.prototype.thumbBorder=2,Sidebar.prototype.sidebarTitleSize=9,Sidebar.prototype.sidebarTitles=!1,Sidebar.prototype.tooltipTitles=!0,Sidebar.prototype.maxTooltipWidth=400,Sidebar.prototype.maxTooltipHeight=400,Sidebar.prototype.addStencilsToIndex=!0,Sidebar.prototype.defaultImageWidth=80,Sidebar.prototype.defaultImageHeight=80,Sidebar.prototype.showTooltip=function(e,t,l,r,i,n){if(this.enableTooltips&&this.showTooltips&&this.currentElt!=e){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null);var a=mxUtils.bind(this,function(){null==this.tooltip&&(this.tooltip=document.createElement("div"),this.tooltip.className="geSidebarTooltip",this.tooltip.style.zIndex=mxPopupMenu.prototype.zIndex-1,document.body.appendChild(this.tooltip),this.graph2=new Graph(this.tooltip,null,null,this.editorUi.editor.graph.getStylesheet()),this.graph2.resetViewOnRootChange=!1,this.graph2.foldingEnabled=!1,this.graph2.gridEnabled=!1,this.graph2.autoScroll=!1,this.graph2.setTooltips(!1),this.graph2.setConnectable(!1),this.graph2.setEnabled(!1),mxClient.IS_SVG||(this.graph2.view.canvas.style.position="relative"),this.tooltipImage=mxUtils.createImage(this.tooltipImage),this.tooltipImage.className="geSidebarTooltipImage",this.tooltipImage.style.zIndex=mxPopupMenu.prototype.zIndex-1,this.tooltipImage.style.position="absolute",this.tooltipImage.style.width="14px",this.tooltipImage.style.height="27px",document.body.appendChild(this.tooltipImage)),this.graph2.model.clear(),this.graph2.view.setTranslate(this.tooltipBorder,this.tooltipBorder),l>this.maxTooltipWidth||r>this.maxTooltipHeight?this.graph2.view.scale=Math.round(100*Math.min(this.maxTooltipWidth/l,this.maxTooltipHeight/r))/100:this.graph2.view.scale=1,this.tooltip.style.display="block",this.graph2.labelsVisible=null==n||n;var a=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,this.graph2.addCells(t),mxClient.NO_FO=a;var o=this.graph2.getGraphBounds(),s=o.width+2*this.tooltipBorder+4,h=o.height+2*this.tooltipBorder;if(mxClient.IS_QUIRKS?(h+=4,this.tooltip.style.overflow="hidden"):this.tooltip.style.overflow="visible",this.tooltipImage.style.visibility="visible",this.tooltip.style.width=s+"px",this.tooltipTitles&&null!=i&&i.length>0){null==this.tooltipTitle?(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.style.borderTop="1px solid gray",this.tooltipTitle.style.textAlign="center",this.tooltipTitle.style.width="100%",this.tooltipTitle.style.overflow="hidden",mxClient.IS_SVG?this.tooltipTitle.style.paddingTop="6px":(this.tooltipTitle.style.position="absolute",this.tooltipTitle.style.paddingTop="6px"),this.tooltip.appendChild(this.tooltipTitle)):this.tooltipTitle.innerHTML="",this.tooltipTitle.style.display="",mxUtils.write(this.tooltipTitle,i);var m=this.tooltipTitle.offsetHeight+10;h+=m,mxClient.IS_SVG?this.tooltipTitle.style.marginTop=2-m+"px":(h-=6,this.tooltipTitle.style.top=h-m+"px")}else null!=this.tooltipTitle&&null!=this.tooltipTitle.parentNode&&(this.tooltipTitle.style.display="none");this.tooltip.style.height=h+"px";var p=-Math.round(o.x-this.tooltipBorder),d=-Math.round(o.y-this.tooltipBorder),c=document.body,u=document.documentElement,g=Math.max(c.clientHeight||0,u.clientHeight),y=this.container.clientWidth+this.editorUi.splitSize+3+this.editorUi.container.offsetLeft,x=Math.min(g-h-20,Math.max(0,this.editorUi.container.offsetTop+this.container.offsetTop+e.offsetTop-this.container.scrollTop-h/2+16));mxClient.IS_SVG?0!=p||0!=d?this.graph2.view.canvas.setAttribute("transform","translate("+p+","+d+")"):this.graph2.view.canvas.removeAttribute("transform"):(this.graph2.view.drawPane.style.left=p+"px",this.graph2.view.drawPane.style.top=d+"px"),this.tooltip.style.position="absolute",this.tooltip.style.left=y+"px",this.tooltip.style.top=x+"px",this.tooltipImage.style.left=y-13+"px",this.tooltipImage.style.top=x+h/2-13+"px"});null!=this.tooltip&&"none"!=this.tooltip.style.display?a():this.thread=window.setTimeout(a,this.tooltipDelay),this.currentElt=e}},Sidebar.prototype.hideTooltip=function(){null!=this.thread&&(window.clearTimeout(this.thread),this.thread=null),null!=this.tooltip&&(this.tooltip.style.display="none",this.tooltipImage.style.visibility="hidden",this.currentElt=null)},Sidebar.prototype.addDataEntry=function(e,t,l,r,i){return this.addEntry(e,mxUtils.bind(this,function(){return this.createVertexTemplateFromData(i,t,l,r)}))},Sidebar.prototype.addEntry=function(e,t){if(null!=this.taglist&&null!=e&&e.length>0)for(var l=e.toLowerCase().replace(/[\/\,\(\)]/g," ").split(" "),r=mxUtils.bind(this,function(e){if(e.length>1){var l=this.taglist[e];"object"!=typeof l&&(l={entries:[],dict:new mxDictionary},this.taglist[e]=l),null==l.dict.get(t)&&(l.dict.put(t,t),l.entries.push(t))}}),i=0;i<l.length;i++){r(l[i]);var n=l[i].replace(/\.*\d*$/,"");n!=l[i]&&r(n)}return t},Sidebar.prototype.searchEntries=function(e,t,l,r,i){if(null!=this.taglist&&null!=e){for(var n=e.toLowerCase().split(" "),a=new mxDictionary,o=(l+1)*t,s=[],h=0,m=0;m<n.length;m++)if(n[m].length>0){var p=this.taglist[n[m]],d=new mxDictionary;if(null!=p){var c=p.entries;s=[];for(var u=0;u<c.length;u++){p=c[u];if(0==h==(null==a.get(p))&&(d.put(p,p),s.push(p),m==n.length-1&&s.length==o))return void r(s.slice(l*t,o),o,!0,n)}}else s=[];a=d,h++}var g=s.length;r(s.slice(l*t,(l+1)*t),g,!1,n)}else r([],null,null,n)},Sidebar.prototype.filterTags=function(e){if(null!=e){for(var t=e.split(" "),l=[],r={},i=0;i<t.length;i++)null==r[t[i]]&&(r[t[i]]="1",l.push(t[i]));return l.join(" ")}return null},Sidebar.prototype.cloneCell=function(e,t){var l=e.clone();return null!=t&&(l.value=t),l},Sidebar.prototype.addSearchPalette=function(e){var t=document.createElement("div");t.style.visibility="hidden",this.container.appendChild(t);var l=document.createElement("div");l.className="geSidebar",l.style.boxSizing="border-box",l.style.overflow="hidden",l.style.width="100%",l.style.padding="8px",l.style.paddingTop="14px",l.style.paddingBottom="0px",e||(l.style.display="none");var r=document.createElement("div");r.style.whiteSpace="nowrap",r.style.textOverflow="clip",r.style.paddingBottom="8px",r.style.cursor="default";var i=document.createElement("input");i.setAttribute("placeholder",mxResources.get("searchShapes")),i.setAttribute("type","text"),i.style.fontSize="12px",i.style.overflow="hidden",i.style.boxSizing="border-box",i.style.border="solid 1px #d5d5d5",i.style.borderRadius="4px",i.style.width="100%",i.style.outline="none",i.style.padding="6px",r.appendChild(i);var n=document.createElement("img");n.setAttribute("src",Sidebar.prototype.searchImage),n.setAttribute("title",mxResources.get("search")),n.style.position="relative",n.style.left="-18px",mxClient.IS_QUIRKS?(i.style.height="28px",n.style.top="-4px"):n.style.top="1px",n.style.background="url('"+this.editorUi.editor.transparentImage+"')";var a;r.appendChild(n),l.appendChild(r);var o=document.createElement("center"),s=mxUtils.button(mxResources.get("moreResults"),function(){a()});s.style.display="none",s.style.lineHeight="normal",s.style.marginTop="4px",s.style.marginBottom="8px",o.style.paddingTop="4px",o.style.paddingBottom="8px",o.appendChild(s),l.appendChild(o);var h="",m=!1,p=!1,d=0,c=new Object,u=12,g=mxUtils.bind(this,function(){m=!1,this.currentSearch=null;for(var e=l.firstChild;null!=e;){var t=e.nextSibling;e!=r&&e!=o&&e.parentNode.removeChild(e),e=t}});mxEvent.addListener(n,"click",function(){n.getAttribute("src")==Dialog.prototype.closeImage&&(n.setAttribute("src",Sidebar.prototype.searchImage),n.setAttribute("title",mxResources.get("search")),s.style.display="none",i.value="",h="",g()),i.focus()}),a=mxUtils.bind(this,function(){if(u=4*Math.max(1,Math.floor(this.container.clientWidth/(this.thumbWidth+10))),this.hideTooltip(),""!=i.value){if(null!=o.parentNode&&(h!=i.value&&(g(),h=i.value,c=new Object,p=!1,d=0),!m&&!p)){s.setAttribute("disabled","true"),s.style.display="",s.style.cursor="wait",s.innerHTML=mxResources.get("loading")+"...",m=!0;var e=new Object;this.currentSearch=e,this.searchEntries(h,u,d,mxUtils.bind(this,function(t,r,i,n){if(this.currentSearch==e){t=null!=t?t:[],m=!1,d++,o.parentNode.removeChild(o),this.insertSearchHint(l,h,u,d,t,r,i,n);for(var a=0;a<t.length;a++){var g=t[a]();null==c[g.innerHTML]&&(c[g.innerHTML]="1",l.appendChild(t[a]()))}i?(s.removeAttribute("disabled"),s.innerHTML=mxResources.get("moreResults")):(s.innerHTML=mxResources.get("reset"),s.style.display="none",p=!0),s.style.cursor="",l.appendChild(o)}}),mxUtils.bind(this,function(){s.style.cursor=""}))}}else g(),i.value="",h="",c=new Object,s.style.display="none",p=!1,i.focus()}),mxEvent.addListener(i,"keydown",mxUtils.bind(this,function(e){13==e.keyCode&&a()})),mxEvent.addListener(i,"focus",function(){i.style.paddingRight=""}),mxEvent.addListener(i,"blur",function(){i.style.paddingRight="20px"}),i.style.paddingRight="20px",mxEvent.addListener(i,"keyup",mxUtils.bind(this,function(e){""==i.value?(n.setAttribute("src",Sidebar.prototype.searchImage),n.setAttribute("title",mxResources.get("search"))):(n.setAttribute("src",Dialog.prototype.closeImage),n.setAttribute("title",mxResources.get("reset"))),""==i.value?(p=!0,s.style.display="none"):i.value!=h?(s.style.display="none",p=!1):m||(s.style.display=p?"none":"")})),mxEvent.addListener(i,"mousedown",function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}),mxEvent.addListener(i,"selectstart",function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0});var y=document.createElement("div");y.appendChild(l),this.container.appendChild(y),this.palettes.search=[t,y]},Sidebar.prototype.insertSearchHint=function(e,t,l,r,i,n,a,o){if(0==i.length&&1==r){var s=document.createElement("div");s.className="geTitle",s.style.cssText="background-color:transparent;border-color:transparent;color:gray;padding:6px 0px 0px 0px !important;margin:4px 8px 4px 8px;text-align:center;cursor:default !important",mxUtils.write(s,mxResources.get("noResultsFor",[t])),e.appendChild(s)}},Sidebar.prototype.addGeneralPalette=function(e){var t="line lines connector connectors connection connections arrow arrows ",l=[this.createVertexTemplateEntry("rounded=0;whiteSpace=wrap;html=1;",120,60,"","Rectangle",null,null,"rect rectangle box"),this.createVertexTemplateEntry("rounded=1;whiteSpace=wrap;html=1;",120,60,"","Rounded Rectangle",null,null,"rounded rect rectangle box"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;",40,20,"Text","Text",null,null,"text textbox textarea label"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;",190,120,"<h1>Heading</h1><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>","Textbox",null,null,"text textbox textarea"),this.createVertexTemplateEntry("shape=ext;double=1;rounded=0;whiteSpace=wrap;html=1;",120,60,"","Double Rectangle",null,null,"rect rectangle box double"),this.createVertexTemplateEntry("shape=ext;double=1;rounded=1;whiteSpace=wrap;html=1;",120,60,"","Double Rounded Rectangle",null,null,"rounded rect rectangle box double"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;",120,80,"","Ellipse",null,null,"oval ellipse state"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;",120,80,"","Double Ellipse",null,null,"oval ellipse start end state double"),this.createVertexTemplateEntry("whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Square",null,null,"square"),this.createVertexTemplateEntry("shape=ext;double=1;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Double Square",null,null,"double square"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Circle",null,null,"circle"),this.createVertexTemplateEntry("ellipse;shape=doubleEllipse;whiteSpace=wrap;html=1;aspect=fixed;",80,80,"","Double Circle",null,null,"double circle"),this.createVertexTemplateEntry("shape=process;whiteSpace=wrap;html=1;",120,60,"","Process",null,null,"process task"),this.createVertexTemplateEntry("rhombus;whiteSpace=wrap;html=1;",80,80,"","Diamond",null,null,"diamond rhombus if condition decision conditional question test"),this.createVertexTemplateEntry("shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;",120,60,"","Parallelogram"),this.createVertexTemplateEntry("shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;",120,80,"","Hexagon",null,null,"hexagon preparation"),this.createVertexTemplateEntry("triangle;whiteSpace=wrap;html=1;",60,80,"","Triangle",null,null,"triangle logic inverter buffer"),this.createVertexTemplateEntry("shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;",60,80,"","Cylinder",null,null,"cylinder data database"),this.createVertexTemplateEntry("ellipse;shape=cloud;whiteSpace=wrap;html=1;",120,80,"","Cloud",null,null,"cloud network"),this.createVertexTemplateEntry("shape=document;whiteSpace=wrap;html=1;boundedLbl=1;",120,80,"","Document"),this.createVertexTemplateEntry("shape=internalStorage;whiteSpace=wrap;html=1;",80,80,"","Internal Storage"),this.createVertexTemplateEntry("shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;",120,80,"","Cube"),this.createVertexTemplateEntry("shape=step;perimeter=stepPerimeter;whiteSpace=wrap;html=1;",120,80,"","Step"),this.createVertexTemplateEntry("shape=trapezoid;perimeter=trapezoidPerimeter;whiteSpace=wrap;html=1;",120,60,"","Trapezoid"),this.createVertexTemplateEntry("shape=tape;whiteSpace=wrap;html=1;",120,100,"","Tape"),this.createVertexTemplateEntry("shape=note;whiteSpace=wrap;html=1;",80,100,"","Note"),this.createVertexTemplateEntry("shape=card;whiteSpace=wrap;html=1;",80,100,"","Card"),this.createVertexTemplateEntry("shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;",120,80,"","Callout"),this.createEdgeTemplateEntry("endArrow=none;dashed=1;html=1;",50,50,"","Dashed Line",null,t+"dashed undirected no"),this.createEdgeTemplateEntry("endArrow=none;html=1;",50,50,"","Line",null,t+"simple undirected plain blank no"),this.createEdgeTemplateEntry("endArrow=classic;startArrow=classic;html=1;",50,50,"","Bidirectional Connector",null,t+"bidirectional"),this.createEdgeTemplateEntry("endArrow=classic;html=1;",50,50,"","Directional Connector",null,t+"directional directed")];this.addPaletteFunctions("general",mxResources.get("general"),null==e||e,l)},Sidebar.prototype.addBasicPalette=function(e){this.addStencilPalette("basic",mxResources.get("basic"),e+"/basic.xml",";whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=2",null,null,null,null,[this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;top=0;bottom=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;right=0;top=0;bottom=0;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;bottom=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;top=0;left=0;fillColor=none;",120,60,"","Partial Rectangle")])},Sidebar.prototype.addMiscPalette=function(e){var t="line lines connector connectors connection connections arrow arrows ",l=[this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;",100,40,"Title","Title",null,null,"text heading title"),this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;",100,80,"<ul><li>Value 1</li><li>Value 2</li><li>Value 3</li></ul>","Unordered List"),this.createVertexTemplateEntry("text;strokeColor=none;fillColor=none;html=1;whiteSpace=wrap;verticalAlign=middle;overflow=hidden;",100,80,"<ol><li>Value 1</li><li>Value 2</li><li>Value 3</li></ol>","Ordered List"),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=#ffffff;overflow=fill;rounded=0;",280,160,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr style="background-color:#A7C942;color:#ffffff;border:1px solid #98bf21;"><th align="left">Title 1</th><th align="left">Title 2</th><th align="left">Title 3</th></tr><tr style="border:1px solid #98bf21;"><td>Value 1</td><td>Value 2</td><td>Value 3</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 4</td><td>Value 5</td><td>Value 6</td></tr><tr style="border:1px solid #98bf21;"><td>Value 7</td><td>Value 8</td><td>Value 9</td></tr><tr style="background-color:#EAF2D3;border:1px solid #98bf21;"><td>Value 10</td><td>Value 11</td><td>Value 12</td></tr></table>',"Table 1"),this.createVertexTemplateEntry("text;html=1;strokeColor=#c0c0c0;fillColor=none;overflow=fill;",180,140,'<table border="0" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"Table 2"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",180,140,'<table border="1" width="100%" height="100%" style="width:100%;height:100%;border-collapse:collapse;"><tr><td align="center">Value 1</td><td align="center">Value 2</td><td align="center">Value 3</td></tr><tr><td align="center">Value 4</td><td align="center">Value 5</td><td align="center">Value 6</td></tr><tr><td align="center">Value 7</td><td align="center">Value 8</td><td align="center">Value 9</td></tr></table>',"Table 3"),this.createVertexTemplateEntry("text;html=1;strokeColor=none;fillColor=none;overflow=fill;",160,140,'<table border="1" width="100%" height="100%" cellpadding="4" style="width:100%;height:100%;border-collapse:collapse;"><tr><th align="center"><b>Title</b></th></tr><tr><td align="center">Section 1.1\nSection 1.2\nSection 1.3</td></tr><tr><td align="center">Section 2.1\nSection 2.2\nSection 2.3</td></tr></table>',"Table 4"),this.addEntry("link hyperlink",mxUtils.bind(this,function(){var e=new mxCell("Link",new mxGeometry(0,0,60,40),"text;html=1;strokeColor=none;fillColor=none;whiteSpace=wrap;align=center;verticalAlign=middle;fontColor=#0000EE;fontStyle=4;");return e.vertex=!0,this.graph.setLinkForCell(e,"https://www.draw.io"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Link")})),this.addEntry("timestamp date time text label",mxUtils.bind(this,function(){var e=new mxCell("%date{ddd mmm dd yyyy HH:MM:ss}%",new mxGeometry(0,0,160,20),"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;overflow=hidden;");return e.vertex=!0,this.graph.setAttributeForCell(e,"placeholders","1"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Timestamp")})),this.addEntry("variable placeholder metadata hello world text label",mxUtils.bind(this,function(){var e=new mxCell("%name% Text",new mxGeometry(0,0,80,20),"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;overflow=hidden;");return e.vertex=!0,this.graph.setAttributeForCell(e,"placeholders","1"),this.graph.setAttributeForCell(e,"name","Variable"),this.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Variable")})),this.createVertexTemplateEntry("shape=umlActor;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;html=1;",30,60,"Actor","Actor",!1,null,"user person human stickman"),this.createVertexTemplateEntry("html=1;whiteSpace=wrap;comic=1;strokeWidth=2;fontFamily=Comic Sans MS;fontStyle=1;",120,60,"RECTANGLE","Comic Rectangle",!0,null,"comic rectangle rect box text retro"),this.createVertexTemplateEntry("rhombus;html=1;align=center;whiteSpace=wrap;comic=1;strokeWidth=2;fontFamily=Comic Sans MS;fontStyle=1;",100,100,"DIAMOND","Comic Diamond",!0,null,"comic diamond rhombus if condition decision conditional question test retro"),this.createEdgeTemplateEntry("rounded=0;comic=1;strokeWidth=2;endArrow=blockThin;html=1;fontFamily=Comic Sans MS;fontStyle=1;",50,50,"","Comic Arrow"),this.createVertexTemplateEntry("html=1;whiteSpace=wrap;aspect=fixed;shape=isoRectangle;",150,90,"","Isometric Square",!0,null,"rectangle rect box iso isometric"),this.createVertexTemplateEntry("html=1;whiteSpace=wrap;aspect=fixed;shape=isoCube;",90,100,"","Isometric Cube",!0,null,"cube box iso isometric"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;html=1;",50,100,"","Isometric Edge 1"),this.createEdgeTemplateEntry("edgeStyle=isometricEdgeStyle;endArrow=none;html=1;elbow=vertical;",50,100,"","Isometric Edge 2"),this.createVertexTemplateEntry("line;strokeWidth=2;html=1;",160,10,"","Horizontal Line"),this.createVertexTemplateEntry("line;strokeWidth=2;direction=south;html=1;",10,160,"","Vertical Line"),this.createVertexTemplateEntry("line;strokeWidth=4;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;",160,10,"","Horizontal Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("line;strokeWidth=4;direction=south;html=1;perimeter=backbonePerimeter;points=[];outlineConnect=0;",10,160,"","Vertical Backbone",!1,null,"backbone bus network"),this.createVertexTemplateEntry("shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;",20,120,"","Curly Bracket"),this.createVertexTemplateEntry("shape=crossbar;whiteSpace=wrap;html=1;rounded=1;",120,20,"","Crossbar",!1,null,"crossbar distance measure dimension unit"),this.createVertexTemplateEntry("shape=image;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;imageAspect=1;aspect=fixed;image="+this.gearImage,52,61,"","Image (Fixed Aspect)",!1,null,"fixed image icon symbol"),this.createVertexTemplateEntry("shape=image;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;imageAspect=0;image="+this.gearImage,50,60,"","Image (Variable Aspect)",!1,null,"strechted image icon symbol"),this.createVertexTemplateEntry("icon;html=1;image="+this.gearImage,60,60,"Icon","Icon",!1,null,"icon image symbol"),this.createVertexTemplateEntry("label;whiteSpace=wrap;html=1;image="+this.gearImage,140,60,"Label","Label 1",null,null,"label image icon symbol"),this.createVertexTemplateEntry("label;whiteSpace=wrap;html=1;align=center;verticalAlign=bottom;spacingLeft=0;spacingBottom=4;imageAlign=center;imageVerticalAlign=top;image="+this.gearImage,120,80,"Label","Label 2",null,null,"label image icon symbol"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;left=0;right=0;fillColor=none;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;left=0;right=0;top=0;fillColor=none;routingCenterY=0.5;",120,60,"","Partial Rectangle"),this.createVertexTemplateEntry("shape=partialRectangle;whiteSpace=wrap;html=1;bottom=1;right=1;top=0;bottom=1;fillColor=none;routingCenterX=-0.5;",120,60,"","Partial Rectangle"),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;html=1;fillColor=#ffffff;",50,50,"","Directional Arrow",null,t+"directional directed"),this.createEdgeTemplateEntry("shape=flexArrow;endArrow=classic;startArrow=classic;html=1;fillColor=#ffffff;",50,50,"","Bidirectional Arrow",null,t+"bidirectional"),this.createEdgeTemplateEntry("edgeStyle=segmentEdgeStyle;endArrow=classic;html=1;",50,50,"","Manual Line",null,t+"manual"),this.createEdgeTemplateEntry("shape=filledEdge;rounded=0;fixDash=1;endArrow=none;strokeWidth=10;fillColor=#ffffff;edgeStyle=orthogonalEdgeStyle;",120,60,"","Filled Edge"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=horizontal;endArrow=classic;html=1;",50,50,"","Horizontal Elbow",null,t+"elbow horizontal"),this.createEdgeTemplateEntry("edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;",50,50,"","Vertical Elbow",null,t+"elbow vertical"),this.addEntry("curve",mxUtils.bind(this,function(){var e=new mxCell("",new mxGeometry(0,0,50,50),"curved=1;endArrow=classic;html=1;");return e.geometry.setTerminalPoint(new mxPoint(0,50),!0),e.geometry.setTerminalPoint(new mxPoint(50,0),!1),e.geometry.points=[new mxPoint(50,50),new mxPoint(0,0)],e.geometry.relative=!0,e.edge=!0,this.createEdgeTemplateFromCells([e],e.geometry.width,e.geometry.height,"Bidirectional Curve")})),this.createEdgeTemplateEntry("shape=link;html=1;",50,50,"","Link",null,t+"link")];this.addPaletteFunctions("misc",mxResources.get("misc"),null==e||e,l)},Sidebar.prototype.addAdvancedPalette=function(e){this.addPaletteFunctions("advanced",mxResources.get("advanced"),null!=e&&e,this.createAdvancedShapes())},Sidebar.prototype.createAdvancedShapes=function(){var e=this,t=new mxCell("List Item",new mxGeometry(0,0,60,26),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;");return t.vertex=!0,[this.createVertexTemplateEntry("shape=xor;whiteSpace=wrap;html=1;",60,80,"","Or",null,null,"logic or"),this.createVertexTemplateEntry("shape=or;whiteSpace=wrap;html=1;",60,80,"","And",null,null,"logic and"),this.createVertexTemplateEntry("shape=dataStorage;whiteSpace=wrap;html=1;",100,80,"","Data Storage"),this.createVertexTemplateEntry("shape=tapeData;whiteSpace=wrap;html=1;perimeter=ellipsePerimeter;",80,80,"","Tape Data"),this.createVertexTemplateEntry("shape=manualInput;whiteSpace=wrap;html=1;",80,80,"","Manual Input"),this.createVertexTemplateEntry("shape=loopLimit;whiteSpace=wrap;html=1;",100,80,"","Loop Limit"),this.createVertexTemplateEntry("shape=offPageConnector;whiteSpace=wrap;html=1;",80,80,"","Off Page Connector"),this.createVertexTemplateEntry("shape=delay;whiteSpace=wrap;html=1;",80,40,"","Delay"),this.createVertexTemplateEntry("shape=display;whiteSpace=wrap;html=1;",80,40,"","Display"),this.createVertexTemplateEntry("shape=singleArrow;direction=west;whiteSpace=wrap;html=1;",100,60,"","Arrow Left"),this.createVertexTemplateEntry("shape=singleArrow;whiteSpace=wrap;html=1;",100,60,"","Arrow Right"),this.createVertexTemplateEntry("shape=singleArrow;direction=north;whiteSpace=wrap;html=1;",60,100,"","Arrow Up"),this.createVertexTemplateEntry("shape=singleArrow;direction=south;whiteSpace=wrap;html=1;",60,100,"","Arrow Down"),this.createVertexTemplateEntry("shape=doubleArrow;whiteSpace=wrap;html=1;",100,60,"","Double Arrow"),this.createVertexTemplateEntry("shape=doubleArrow;direction=south;whiteSpace=wrap;html=1;",60,100,"","Double Arrow Vertical",null,null,"double arrow"),this.createVertexTemplateEntry("shape=actor;whiteSpace=wrap;html=1;",40,60,"","User",null,null,"user person human"),this.createVertexTemplateEntry("shape=cross;whiteSpace=wrap;html=1;",80,80,"","Cross"),this.createVertexTemplateEntry("shape=corner;whiteSpace=wrap;html=1;",80,80,"","Corner"),this.createVertexTemplateEntry("shape=tee;whiteSpace=wrap;html=1;",80,80,"","Tee"),this.createVertexTemplateEntry("shape=datastore;whiteSpace=wrap;html=1;",60,60,"","Data Store",null,null,"data store cylinder database"),this.createVertexTemplateEntry("shape=orEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;",80,80,"","Or",null,null,"or circle oval ellipse"),this.createVertexTemplateEntry("shape=sumEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;",80,80,"","Sum",null,null,"sum circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;",80,80,"","Ellipse with horizontal divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=lineEllipse;line=vertical;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;",80,80,"","Ellipse with vertical divider",null,null,"circle oval ellipse"),this.createVertexTemplateEntry("shape=sortShape;perimeter=rhombusPerimeter;whiteSpace=wrap;html=1;",80,80,"","Sort",null,null,"sort"),this.createVertexTemplateEntry("shape=collate;whiteSpace=wrap;html=1;",80,80,"","Collate",null,null,"collate"),this.createVertexTemplateEntry("shape=switch;whiteSpace=wrap;html=1;",60,60,"","Switch",null,null,"switch router"),this.createVertexTemplateEntry("shape=dimension;whiteSpace=wrap;html=1;align=center;points=[];verticalAlign=bottom;spacingBottom=-5;labelBackgroundColor=#ffffff",100,40,"Label","Horizontal Dimension",null,null,"horizontal dimension measure distance unit"),this.createVertexTemplateEntry("shape=dimension;direction=north;whiteSpace=wrap;html=1;align=right;points=[];verticalAlign=middle;labelBackgroundColor=#ffffff",40,100,"Label","Vertical Dimension",null,null,"vertical dimension measure distance unit"),this.createVertexTemplateEntry("swimlane;",200,200,"Container","Container",null,null,"container swimlane lane pool"),this.addEntry("list",function(){var l=new mxCell("List",new mxGeometry(0,0,140,110),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;");return l.vertex=!0,l.insert(e.cloneCell(t,"Item 1")),l.insert(e.cloneCell(t,"Item 2")),l.insert(e.cloneCell(t,"Item 3")),e.createVertexTemplateFromCells([l],l.geometry.width,l.geometry.height,"List")}),this.addEntry("list item entry value",function(){return e.createVertexTemplateFromCells([e.cloneCell(t,"List Item")],t.geometry.width,t.geometry.height,"List Item")})]},Sidebar.prototype.addUmlPalette=function(e){var t=this,l=new mxCell("+ field: type",new mxGeometry(0,0,100,26),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;");l.vertex=!0;var r=new mxCell("",new mxGeometry(0,0,40,8),"line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;");r.vertex=!0;var i="uml static class ",n=[this.createVertexTemplateEntry("html=1;",110,50,"Object","Object",null,null,i+"object instance"),this.createVertexTemplateEntry("html=1;",110,50,"&laquo;interface&raquo;<br><b>Name</b>","Interface",null,null,i+"interface object instance annotated annotation"),this.addEntry(i+"object instance",function(){var e=new mxCell("Classname",new mxGeometry(0,0,160,90),"swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;");return e.vertex=!0,e.insert(l.clone()),e.insert(r.clone()),e.insert(t.cloneCell(l,"+ method(type): type")),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Class")}),this.addEntry(i+"section subsection",function(){var e=new mxCell("Classname",new mxGeometry(0,0,140,110),"swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;swimlaneFillColor=#ffffff;");return e.vertex=!0,e.insert(l.clone()),e.insert(l.clone()),e.insert(l.clone()),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Class 2")}),this.addEntry(i+"item member method function variable field attribute label",function(){return t.createVertexTemplateFromCells([t.cloneCell(l,"+ item: attribute")],l.geometry.width,l.geometry.height,"Item 1")}),this.addEntry(i+"item member method function variable field attribute label",function(){var e=new mxCell("item: attribute",new mxGeometry(0,0,120,l.geometry.height),"label;fontStyle=0;strokeColor=none;fillColor=none;align=left;verticalAlign=top;overflow=hidden;spacingLeft=28;spacingRight=4;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;imageWidth=16;imageHeight=16;image="+t.gearImage);return e.vertex=!0,t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Item 2")}),this.addEntry(i+"divider hline line separator",function(){return t.createVertexTemplateFromCells([r.clone()],r.geometry.width,r.geometry.height,"Divider")}),this.addEntry(i+"spacer space gap separator",function(){var e=new mxCell("",new mxGeometry(0,0,20,14),"text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=4;spacingRight=4;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Spacer")}),this.createVertexTemplateEntry("text;align=center;fontStyle=1;verticalAlign=middle;spacingLeft=3;spacingRight=3;strokeColor=none;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;",80,26,"Title","Title",null,null,i+"title label"),this.addEntry(i+"component",function(){var e=new mxCell("&laquo;Annotation&raquo;<br/><b>Component</b>",new mxGeometry(0,0,180,90),"html=1;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,0,20,20),"shape=component;jettyWidth=8;jettyHeight=4;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-27,7),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Component")}),this.addEntry(i+"component",function(){var e=new mxCell('<p style="margin:0px;margin-top:6px;text-align:center;"><b>Component</b></p><hr/><p style="margin:0px;margin-left:8px;">+ Attribute1: Type<br/>+ Attribute2: Type</p>',new mxGeometry(0,0,180,90),"align=left;overflow=fill;html=1;");e.vertex=!0;var l=new mxCell("",new mxGeometry(1,0,20,20),"shape=component;jettyWidth=8;jettyHeight=4;");return l.vertex=!0,l.geometry.relative=!0,l.geometry.offset=new mxPoint(-24,4),e.insert(l),t.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Component with Attributes")}),this.createVertexTemplateEntry("verticalAlign=top;align=left;spacingTop=8;spacingLeft=2;spacingRight=12;shape=cube;size=10;direction=south;fontStyle=4;html=1;",180,120,"Block","Block",null,null,i+"block"),this.createVertexTemplateEntry("shape=component;align=left;spacingLeft=36;",120,60,"Module","Module",null,null,i+"module"),this.createVertexTemplateEntry("shape=folder;fontStyle=1;spacingTop=10;tabWidth=40;tabHeight=14;tabPosition=left;html=1;",70,50,"package","Package",null,null,i+"package"),this.createVertexTemplateEntry("verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;",160,90,'<p style="margin:0px;margin-top:4px;text-align:center;text-decoration:underline;"><b>Object:Type</b></p><hr/><p style="margin:0px;margin-left:8px;">field1 = value1<br/>field2 = value2<br>field3 = value3</p>',"Object",null,null,i+"object instance"),this.createVertexTemplateEntry("verticalAlign=top;align=left;overflow=fill;html=1;",180,90,'<div style="box-sizing:border-box;width:100%;background:#e4e4e4;padding:2px;">Tablename</div><table style="width:100%;font-size:1em;" cellpadding="2" cellspacing="0"><tr><td>PK</td><td>uniqueId</td></tr><tr><td>FK1</td><td>foreignKey</td></tr><tr><td></td><td>fieldname</td></tr></table>',"Entity",null,null,"er entity table"),this.addEntry(i+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><div style="height:2px;"></div>',new mxGeometry(0,0,140,60),"verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 3")}),this.addEntry(i+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><div style="height:2px;"></div><hr size="1"/><div style="height:2px;"></div>',new mxGeometry(0,0,140,60),"verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 4")}),this.addEntry(i+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><b>Class</b></p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ field: Type</p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ method(): Type</p>',new mxGeometry(0,0,160,90),"verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Class 5")}),this.addEntry(i+"object instance",function(){var e=new mxCell('<p style="margin:0px;margin-top:4px;text-align:center;"><i>&lt;&lt;Interface&gt;&gt;</i><br/><b>Interface</b></p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ field1: Type<br/>+ field2: Type</p><hr size="1"/><p style="margin:0px;margin-left:4px;">+ method1(Type): Type<br/>+ method2(Type, Type): Type</p>',new mxGeometry(0,0,190,140),"verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1;");return e.vertex=!0,t.createVertexTemplateFromCells([e.clone()],e.geometry.width,e.geometry.height,"Interface 2")}),this.createVertexTemplateEntry("shape=lollipop;direction=south;html=1;",30,10,"","Provided Interface",null,null,i+"provided interface"),this.createVertexTemplateEntry("shape=requires;direction=north;html=1;",30,20,"","Required Interface",null,null,i+"required interface"),this.createVertexTemplateEntry("shape=umlBoundary;whiteSpace=wrap;html=1;",100,80,"Boundary Object","Boundary Object",null,null,"uml boundary object"),this.createVertexTemplateEntry("ellipse;shape=umlEntity;whiteSpace=wrap;html=1;",80,80,"Entity Object","Entity Object",null,null,"uml entity object"),this.createVertexTemplateEntry("ellipse;shape=umlControl;whiteSpace=wrap;html=1;",70,80,"Control Object","Control Object",null,null,"uml control object"),this.createVertexTemplateEntry("shape=umlActor;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;html=1;",30,60,"Actor","Actor",!1,null,"uml actor"),this.createVertexTemplateEntry("ellipse;whiteSpace=wrap;html=1;",140,70,"Use Case","Use Case",null,null,"uml use case usecase"),this.addEntry("uml activity state start",function(){var e=new mxCell("",new mxGeometry(0,0,30,30),"ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(15,90),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],30,90,"Start")}),this.addEntry("uml activity state",function(){var e=new mxCell("Activity",new mxGeometry(0,0,120,40),"rounded=1;whiteSpace=wrap;html=1;arcSize=40;fillColor=#ffffc0;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(60,100),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],120,100,"Activity")}),this.addEntry("uml activity composite state",function(){var e=new mxCell("Composite State",new mxGeometry(0,0,160,60),"swimlane;html=1;fontStyle=1;align=center;verticalAlign=middle;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=0;resizeLast=1;container=0;collapsible=0;rounded=1;arcSize=30;strokeColor=#ff0000;fillColor=#ffffc0;swimlaneFillColor=#ffffc0;");e.vertex=!0;var l=new mxCell("Subtitle",new mxGeometry(0,0,200,26),"text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;spacingLeft=4;spacingRight=4;whiteSpace=wrap;overflow=hidden;rotatable=0;");l.vertex=!0,e.insert(l);var r=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return r.geometry.setTerminalPoint(new mxPoint(80,120),!1),r.geometry.relative=!0,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,r],160,120,"Composite State")}),this.addEntry("uml activity condition",function(){var e=new mxCell("Condition",new mxGeometry(0,0,80,40),"rhombus;whiteSpace=wrap;html=1;fillColor=#ffffc0;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("no",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");l.geometry.setTerminalPoint(new mxPoint(180,20),!1),l.geometry.relative=!0,l.geometry.x=-1,l.edge=!0,e.insertEdge(l,!0);var r=new mxCell("yes",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#ff0000;");return r.geometry.setTerminalPoint(new mxPoint(40,100),!1),r.geometry.relative=!0,r.geometry.x=-1,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,l,r],180,100,"Condition")}),this.addEntry("uml activity fork join",function(){var e=new mxCell("",new mxGeometry(0,0,200,10),"shape=line;html=1;strokeWidth=6;strokeColor=#ff0000;");e.vertex=!0;var l=new mxCell("",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;");return l.geometry.setTerminalPoint(new mxPoint(100,80),!1),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!0),t.createVertexTemplateFromCells([e,l],200,80,"Fork/Join")}),this.createVertexTemplateEntry("ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;",30,30,"","End",null,null,"uml activity state end"),this.createVertexTemplateEntry("shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;",100,300,":Object","Lifeline",null,null,"uml sequence participant lifeline"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlActor;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",20,300,"","Actor Lifeline",null,null,"uml sequence participant lifeline actor"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlBoundary;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",50,300,"","Boundary Lifeline",null,null,"uml sequence participant lifeline boundary"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlEntity;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",40,300,"","Entity Lifeline",null,null,"uml sequence participant lifeline entity"),this.createVertexTemplateEntry("shape=umlLifeline;participant=umlControl;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;verticalAlign=top;spacingTop=36;labelBackgroundColor=#ffffff;outlineConnect=0;",40,300,"","Control Lifeline",null,null,"uml sequence participant lifeline control"),this.createVertexTemplateEntry("shape=umlFrame;whiteSpace=wrap;html=1;",300,200,"frame","Frame",null,null,"uml sequence frame"),this.createVertexTemplateEntry("shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;",30,30,"","Destruction",null,null,"uml sequence destruction destroy"),this.createVertexTemplateEntry("shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;",100,70,"Note","Note",null,null,"uml note"),this.addEntry("uml sequence invoke invocation call activation",function(){var e=new mxCell("",new mxGeometry(0,0,10,80),"html=1;points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("dispatch",new mxGeometry(0,0,0,0),"html=1;verticalAlign=bottom;startArrow=oval;endArrow=block;startSize=8;");return l.geometry.setTerminalPoint(new mxPoint(-60,0),!0),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1),t.createVertexTemplateFromCells([e,l],10,80,"Found Message")}),this.addEntry("uml sequence invoke call delegation synchronous invocation activation",function(){var e=new mxCell("",new mxGeometry(0,0,10,80),"html=1;points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("dispatch",new mxGeometry(0,0,0,0),"html=1;verticalAlign=bottom;endArrow=block;entryX=0;entryY=0;");l.geometry.setTerminalPoint(new mxPoint(-70,0),!0),l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1);var r=new mxCell("return",new mxGeometry(0,0,0,0),"html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;exitX=0;exitY=0.95;");return r.geometry.setTerminalPoint(new mxPoint(-70,76),!1),r.geometry.relative=!0,r.edge=!0,e.insertEdge(r,!0),t.createVertexTemplateFromCells([e,l,r],10,80,"Synchronous Invocation")}),this.addEntry("uml sequence self call recursion delegation activation",function(){var e=new mxCell("",new mxGeometry(0,20,10,40),"html=1;points=[];perimeter=orthogonalPerimeter;");e.vertex=!0;var l=new mxCell("self call",new mxGeometry(0,0,0,0),"edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1;entryY=0;");return l.geometry.setTerminalPoint(new mxPoint(5,0),!0),l.geometry.points=[new mxPoint(30,0)],l.geometry.relative=!0,l.edge=!0,e.insertEdge(l,!1),t.createVertexTemplateFromCells([e,l],10,60,"Self Call")}),this.addEntry("uml sequence invoke call delegation callback activation",function(){return t.createVertexTemplateFromData("xZRNT8MwDIZ/Ta6oaymD47rBTkiTuMAxW6wmIm0q19s6fj1OE3V0Y2iCA4dK8euP2I+riGxedUuUjX52CqzIHkU2R+conKpuDtaKNDFKZAuRpgl/In264J303qSRCDVdk5CGhJ20WwhKEFo62ChoqritxURkReNMTa2X80LkC68AmgoIkEWHpF3pamlXR7WIFwASdBeb7KXY4RIc5+KBQ/ZGkY4RYY5Egyl1zLqLmmyDXQ6Zx4n5EIf+HkB2BmAjrV3LzftPIPw4hgNn1pQ1a2tH5Cp2QK1miG7vNeu4iJe4pdeY2BtvbCQDGlAljMCQxBJotJ8rWCFYSWY3LvUdmZi68rvkkLiU6QnL1m1xAzHoBOdw61WEb88II9AW67/ydQ2wq1Cy1aAGvOrFfPh6997qDA3g+dxzv3nIL6MPU/8T+kMw8+m4QPgdfrEJNo8PSQj/+s58Ag==",10,60,"Callback")}),this.createVertexTemplateEntry("html=1;points=[];perimeter=orthogonalPerimeter;",10,80,"","Activation",null,null,"uml sequence activation"),this.createEdgeTemplateEntry("html=1;verticalAlign=bottom;startArrow=oval;startFill=1;endArrow=block;startSize=8;",60,0,"dispatch","Found Message 1",null,"uml sequence message call invoke dispatch"),this.createEdgeTemplateEntry("html=1;verticalAlign=bottom;startArrow=circle;startFill=1;endArrow=open;startSize=6;endSize=8;",80,0,"dispatch","Found Message 2",null,"uml sequence message call invoke dispatch"),this.createEdgeTemplateEntry("html=1;verticalAlign=bottom;endArrow=block;",80,0,"dispatch","Message",null,"uml sequence message call invoke dispatch"),this.addEntry("uml sequence return message",function(){var e=new mxCell("return",new mxGeometry(0,0,0,0),"html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;");return e.geometry.setTerminalPoint(new mxPoint(80,0),!0),e.geometry.setTerminalPoint(new mxPoint(0,0),!1),e.geometry.relative=!0,e.edge=!0,t.createEdgeTemplateFromCells([e],80,0,"Return")}),this.addEntry("uml relation",function(){var e=new mxCell("name",new mxGeometry(0,0,0,0),"endArrow=block;endFill=1;html=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.edge=!0;var l=new mxCell("1",new mxGeometry(-1,0,0,0),"resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");return l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l),t.createEdgeTemplateFromCells([e],160,0,"Relation 1")}),this.addEntry("uml association",function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var l=new mxCell("parent",new mxGeometry(-1,0,0,0),"resizable=0;html=1;align=left;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l);var r=new mxCell("child",new mxGeometry(1,0,0,0),"resizable=0;html=1;align=right;verticalAlign=bottom;labelBackgroundColor=#ffffff;fontSize=10;");return r.geometry.relative=!0,r.setConnectable(!1),r.vertex=!0,e.insert(r),t.createEdgeTemplateFromCells([e],160,0,"Association 1")}),this.addEntry("uml aggregation",function(){var e=new mxCell("1",new mxGeometry(0,0,0,0),"endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;");return e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.geometry.y=3,e.edge=!0,t.createEdgeTemplateFromCells([e],160,0,"Aggregation 1")}),this.addEntry("uml composition",function(){var e=new mxCell("1",new mxGeometry(0,0,0,0),"endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;");return e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.geometry.x=-1,e.geometry.y=3,e.edge=!0,t.createEdgeTemplateFromCells([e],160,0,"Composition 1")}),this.addEntry("uml relation",function(){var e=new mxCell("Relation",new mxGeometry(0,0,0,0),"endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(160,0),!1),e.geometry.relative=!0,e.edge=!0;var l=new mxCell("0..n",new mxGeometry(-1,0,0,0),"resizable=0;html=1;align=left;verticalAlign=top;labelBackgroundColor=#ffffff;fontSize=10;");l.geometry.relative=!0,l.setConnectable(!1),l.vertex=!0,e.insert(l);var r=new mxCell("1",new mxGeometry(1,0,0,0),"resizable=0;html=1;align=right;verticalAlign=top;labelBackgroundColor=#ffffff;fontSize=10;");return r.geometry.relative=!0,r.setConnectable(!1),r.vertex=!0,e.insert(r),t.createEdgeTemplateFromCells([e],160,0,"Relation 2")}),this.createEdgeTemplateEntry("endArrow=open;endSize=12;dashed=1;html=1;",160,0,"Use","Dependency",null,"uml dependency use"),this.createEdgeTemplateEntry("endArrow=block;endSize=16;endFill=0;html=1;",160,0,"Extends","Generalization",null,"uml generalization extend"),this.createEdgeTemplateEntry("endArrow=block;startArrow=block;endFill=1;startFill=1;html=1;",160,0,"","Association 2",null,"uml association"),this.createEdgeTemplateEntry("endArrow=open;startArrow=circlePlus;endFill=0;startFill=0;endSize=8;html=1;",160,0,"","Inner Class",null,"inner class"),this.createEdgeTemplateEntry("endArrow=open;startArrow=cross;endFill=0;startFill=0;endSize=8;startSize=10;html=1;",160,0,"","Terminate",null,"terminate"),this.createEdgeTemplateEntry("endArrow=block;dashed=1;endFill=0;endSize=12;html=1;",160,0,"","Implementation",null,"realization implementation"),this.createEdgeTemplateEntry("endArrow=diamondThin;endFill=0;endSize=24;html=1;",160,0,"","Aggregation 2",null,"aggregation"),this.createEdgeTemplateEntry("endArrow=diamondThin;endFill=1;endSize=24;html=1;",160,0,"","Composition 2",null,"composition"),this.createEdgeTemplateEntry("endArrow=open;endFill=1;endSize=12;html=1;",160,0,"","Association 3",null,"association")];this.addPaletteFunctions("uml",mxResources.get("uml"),e||!1,n)},Sidebar.prototype.addBpmnPalette=function(e,t){var l=this,r=[this.createVertexTemplateEntry("shape=ext;rounded=1;html=1;whiteSpace=wrap;",120,80,"Task","Process",null,null,"bpmn task process"),this.createVertexTemplateEntry("shape=ext;rounded=1;html=1;whiteSpace=wrap;double=1;",120,80,"Transaction","Transaction",null,null,"bpmn transaction"),this.createVertexTemplateEntry("shape=ext;rounded=1;html=1;whiteSpace=wrap;dashed=1;dashPattern=1 4;",120,80,"Event\nSub-Process","Event Sub-Process",null,null,"bpmn event subprocess sub process sub-process"),this.createVertexTemplateEntry("shape=ext;rounded=1;html=1;whiteSpace=wrap;strokeWidth=3;",120,80,"Call Activity","Call Activity",null,null,"bpmn call activity"),this.addEntry("bpmn subprocess sub process sub-process",function(){var e=new mxCell("Sub-Process",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;shape=plus;");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-7,-14),e.insert(t),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Sub-Process")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","loop","subprocess sub process sub-process looped").join(" "),function(){var e=new mxCell("Looped\nSub-Process",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1");e.vertex=!0;var t=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;shape=mxgraph.bpmn.loop;");t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-15,-14),e.insert(t);var r=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;shape=plus;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(1,-14),e.insert(r),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Looped Sub-Process")}),this.addEntry("bpmn receive task",function(){var e=new mxCell("Receive",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(0,0,20,14),"html=1;shape=message;");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(7,7),e.insert(t),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Receive Task")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","user_task").join(" "),function(){var e=new mxCell("User",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(0,0,14,14),"html=1;shape=mxgraph.bpmn.user_task;");t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(7,7),e.insert(t);var r=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;shape=plus;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(-7,-14),e.insert(r),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"User Task")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","timer_start","attached").join(" "),function(){var e=new mxCell("Process",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(1,1,30,30),"shape=mxgraph.bpmn.timer_start;perimeter=ellipsePerimeter;html=1;verticalLabelPosition=bottom;labelBackgroundColor=#ffffff;verticalAlign=top;");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-40,-15),e.insert(t),l.createVertexTemplateFromCells([e],120,95,"Attached Timer Event 1")}),this.addEntry(this.getTagsForStencil("mxgraph.bpmn","timer_start","attached").join(" "),function(){var e=new mxCell("Process",new mxGeometry(0,0,120,80),"html=1;whiteSpace=wrap;rounded=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(1,0,30,30),"shape=mxgraph.bpmn.timer_start;perimeter=ellipsePerimeter;html=1;labelPosition=right;labelBackgroundColor=#ffffff;align=left;");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-15,10),e.insert(t),l.createVertexTemplateFromCells([e],135,80,"Attached Timer Event 2")}),this.createVertexTemplateEntry("swimlane;html=1;horizontal=0;startSize=20;",320,240,"Pool","Pool",null,null,"bpmn pool"),this.createVertexTemplateEntry("swimlane;html=1;horizontal=0;swimlaneFillColor=white;swimlaneLine=0;",300,120,"Lane","Lane",null,null,"bpmn lane"),this.createVertexTemplateEntry("shape=hexagon;html=1;whiteSpace=wrap;perimeter=hexagonPerimeter;",60,50,"","Conversation",null,null,"bpmn conversation"),this.createVertexTemplateEntry("shape=hexagon;html=1;whiteSpace=wrap;perimeter=hexagonPerimeter;strokeWidth=4",60,50,"","Call Conversation",null,null,"bpmn call conversation"),this.addEntry("bpmn subconversation sub conversation sub-conversation",function(){var e=new mxCell("",new mxGeometry(0,0,60,50),"shape=hexagon;whiteSpace=wrap;html=1;perimeter=hexagonPerimeter;");e.vertex=!0;var t=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;shape=plus;");return t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(-7,-14),e.insert(t),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Sub-Conversation")}),this.addEntry("bpmn data object",function(){var e=new mxCell("",new mxGeometry(0,0,40,60),"shape=note;whiteSpace=wrap;size=16;html=1;");e.vertex=!0;var t=new mxCell("",new mxGeometry(0,0,14,14),"html=1;shape=singleArrow;arrowWidth=0.4;arrowSize=0.4;");t.vertex=!0,t.geometry.relative=!0,t.geometry.offset=new mxPoint(2,2),e.insert(t);var r=new mxCell("",new mxGeometry(.5,1,14,14),"html=1;whiteSpace=wrap;shape=parallelMarker;");return r.vertex=!0,r.geometry.relative=!0,r.geometry.offset=new mxPoint(-7,-14),e.insert(r),l.createVertexTemplateFromCells([e],e.geometry.width,e.geometry.height,"Data Object")}),this.createVertexTemplateEntry("shape=datastore;whiteSpace=wrap;html=1;",60,60,"","Data Store",null,null,"bpmn data store"),this.createVertexTemplateEntry("shape=plus;html=1;",14,14,"","Sub-Process Marker",null,null,"bpmn subprocess sub process sub-process marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.loop;html=1;",14,14,"","Loop Marker",null,null,"bpmn loop marker"),this.createVertexTemplateEntry("shape=parallelMarker;html=1;",14,14,"","Parallel MI Marker",null,null,"bpmn parallel mi marker"),this.createVertexTemplateEntry("shape=parallelMarker;direction=south;html=1;",14,14,"","Sequential MI Marker",null,null,"bpmn sequential mi marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.ad_hoc;fillColor=#000000;html=1;",14,14,"","Ad Hoc Marker",null,null,"bpmn ad hoc marker"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.compensation;html=1;",14,14,"","Compensation Marker",null,null,"bpmn compensation marker"),this.createVertexTemplateEntry("shape=message;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#ffffff;strokeWidth=2;",40,30,"","Send Task",null,null,"bpmn send task"),this.createVertexTemplateEntry("shape=message;whiteSpace=wrap;html=1;",40,30,"","Receive Task",null,null,"bpmn receive task"),this.createVertexTemplateEntry("shape=mxgraph.bpmn.user_task;html=1;",14,14,"","User Task",null,null,this.getTagsForStencil("mxgraph.bpmn","user_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.manual_task;html=1;",14,14,"","Manual Task",null,null,this.getTagsForStencil("mxgraph.bpmn","user_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.business_rule_task;html=1;",14,14,"","Business Rule Task",null,null,this.getTagsForStencil("mxgraph.bpmn","business_rule_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.service_task;html=1;",14,14,"","Service Task",null,null,this.getTagsForStencil("mxgraph.bpmn","service_task").join(" ")),this.createVertexTemplateEntry("shape=mxgraph.bpmn.script_task;html=1;",14,14,"","Script Task",null,null,this.getTagsForStencil("mxgraph.bpmn","script_task").join(" ")),this.createEdgeTemplateEntry("endArrow=block;endFill=1;endSize=6;html=1;",100,0,"","Sequence Flow",null,"bpmn sequence flow"),this.createEdgeTemplateEntry("startArrow=dash;startSize=8;endArrow=block;endFill=1;endSize=6;html=1;",100,0,"","Default Flow",null,"bpmn default flow"),this.createEdgeTemplateEntry("startArrow=diamondThin;startFill=0;startSize=14;endArrow=block;endFill=1;endSize=6;html=1;",100,0,"","Conditional Flow",null,"bpmn conditional flow"),this.createEdgeTemplateEntry("startArrow=oval;startFill=0;startSize=7;endArrow=block;endFill=0;endSize=10;dashed=1;html=1;",100,0,"","Message Flow 1",null,"bpmn message flow"),this.addEntry("bpmn message flow",function(){var e=new mxCell("",new mxGeometry(0,0,0,0),"startArrow=oval;startFill=0;startSize=7;endArrow=block;endFill=0;endSize=10;dashed=1;html=1;");e.geometry.setTerminalPoint(new mxPoint(0,0),!0),e.geometry.setTerminalPoint(new mxPoint(100,0),!1),e.geometry.relative=!0,e.edge=!0;var t=new mxCell("",new mxGeometry(0,0,20,14),"shape=message;html=1;");return t.geometry.relative=!0,t.setConnectable(!1),t.vertex=!0,t.geometry.offset=new mxPoint(-10,-7),e.insert(t),l.createEdgeTemplateFromCells([e],100,0,"Message Flow 2")}),this.createEdgeTemplateEntry("shape=link;html=1;",100,0,"","Link",null,"bpmn link")];this.addPaletteFunctions("bpmn","BPMN "+mxResources.get("general"),!1,r)},Sidebar.prototype.createTitle=function(e){var t=document.createElement("a");return t.setAttribute("href","javascript:void(0);"),t.setAttribute("title",mxResources.get("sidebarTooltip")),t.className="geTitle",mxUtils.write(t,e),t},Sidebar.prototype.createThumb=function(e,t,l,r,i,n,a,o,s){this.graph.labelsVisible=null==n||n;var h=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,this.graph.view.scaleAndTranslate(1,0,0),this.graph.addCells(e);var m=this.graph.getGraphBounds(),p=Math.floor(100*Math.min((t-2*this.thumbBorder)/m.width,(l-2*this.thumbBorder)/m.height))/100;this.graph.view.scaleAndTranslate(p,Math.floor((t-m.width*p)/2/p-m.x),Math.floor((l-m.height*p)/2/p-m.y));var d=null;if(this.graph.dialect!=mxConstants.DIALECT_SVG||mxClient.NO_FO?(d=this.graph.container.cloneNode(!1)).innerHTML=this.graph.container.innerHTML:d=this.graph.view.getCanvas().ownerSVGElement.cloneNode(!0),this.graph.getModel().clear(),mxClient.NO_FO=h,mxClient.IS_IE6&&(r.style.backgroundImage="url("+this.editorUi.editor.transparentImage+")"),d.style.position="relative",d.style.overflow="hidden",d.style.cursor="move",d.style.left=this.thumbBorder+"px",d.style.top=this.thumbBorder+"px",d.style.width=t+"px",d.style.height=l+"px",d.style.visibility="",d.style.minWidth="",d.style.minHeight="",r.appendChild(d),this.sidebarTitles&&null!=i&&0!=a){var c=mxClient.IS_QUIRKS?2*this.thumbPadding+2:0;r.style.height=this.thumbHeight+c+this.sidebarTitleSize+8+"px";var u=document.createElement("div");u.style.fontSize=this.sidebarTitleSize+"px",u.style.color="#303030",u.style.textAlign="center",u.style.whiteSpace="nowrap",mxClient.IS_IE&&(u.style.height=this.sidebarTitleSize+12+"px"),u.style.paddingTop="4px",mxUtils.write(u,i),r.appendChild(u)}return m},Sidebar.prototype.createItem=function(e,t,l,r,i,n,a){var o=document.createElement("a");o.setAttribute("href","javascript:void(0);"),o.className="geItem",o.style.overflow="hidden";var s=mxClient.IS_QUIRKS?8+2*this.thumbPadding:2*this.thumbBorder;o.style.width=this.thumbWidth+s+"px",o.style.height=this.thumbHeight+s+"px",o.style.padding=this.thumbPadding+"px",mxClient.IS_IE6&&(o.style.border="none"),mxEvent.addListener(o,"click",function(e){mxEvent.consume(e)}),this.createThumb(e,this.thumbWidth,this.thumbHeight,o,t,l,r,i,n);var h=new mxRectangle(0,0,i,n);if(e.length>1||e[0].vertex){m=this.createDragSource(o,this.createDropHandler(e,!0,a,h),this.createDragPreview(i,n),e,h);this.addClickHandler(o,m,e),m.isGuidesEnabled=mxUtils.bind(this,function(){return this.editorUi.editor.graph.graphHandler.guidesEnabled})}else if(null!=e[0]&&e[0].edge){var m=this.createDragSource(o,this.createDropHandler(e,!1,a,h),this.createDragPreview(i,n),e,h);this.addClickHandler(o,m,e)}return mxClient.IS_IOS||mxEvent.addGestureListeners(o,null,mxUtils.bind(this,function(r){mxEvent.isMouseEvent(r)&&this.showTooltip(o,e,h.width,h.height,t,l)})),o},Sidebar.prototype.updateShapes=function(e,t){var l=this.editorUi.editor.graph,r=l.getCellStyle(e),i=[];l.model.beginUpdate();try{for(var n=l.getModel().getStyle(e),a=["shadow","dashed","dashPattern","fontFamily","fontSize","fontColor","align","startFill","startSize","endFill","endSize","strokeColor","strokeWidth","fillColor","gradientColor","html","part","noEdgeStyle","edgeStyle","elbow","childLayout"],o=0;o<t.length;o++){var s=t[o];if(l.getModel().isVertex(s)==l.getModel().isVertex(e)||l.getModel().isEdge(s)==l.getModel().isEdge(e)){var h=l.view.getState(s),m=null!=h?h.style:l.getCellStyle(t[o]);if(l.getModel().setStyle(s,n),null!=h&&"1"==mxUtils.getValue(h.style,"composite","0"))for(p=l.model.getChildCount(s);p>=0;p--)l.model.remove(l.model.getChildAt(s,p));if(null!=m){"umlLifeline"==m[mxConstants.STYLE_SHAPE]&&"umlLifeline"!=r[mxConstants.STYLE_SHAPE]&&(l.setCellStyles(mxConstants.STYLE_SHAPE,"umlLifeline",[s]),l.setCellStyles("participant",r[mxConstants.STYLE_SHAPE],[s]));for(var p=0;p<a.length;p++){var d=m[a[p]];null!=d&&l.setCellStyles(a[p],d,[s])}}i.push(s)}}}finally{l.model.endUpdate()}return i},Sidebar.prototype.createDropHandler=function(e,t,l,r){return l=null==l||l,mxUtils.bind(this,function(i,n,a,o,s){if(i.isEnabled()){if((e=i.getImportableCells(e)).length>0){i.stopEditing();var h=null!=a&&!mxEvent.isAltDown(n)&&i.isValidDropTarget(a,e,n),m=null;if(null==a||h||(a=null),!i.isCellLocked(a||i.getDefaultParent())){i.model.beginUpdate();try{if(o=Math.round(o),s=Math.round(s),t&&i.isSplitTarget(a,e,n)){var p=i.cloneCells(e);i.splitEdge(a,p,null,o-r.width/2,s-r.height/2),m=p}else e.length>0&&(m=i.importCells(e,o,s,a));if(null!=i.layoutManager){var d=i.layoutManager.getLayout(a);if(null!=d)for(var c=i.view.scale,u=i.view.translate,g=(o+u.x)*c,y=(s+u.y)*c,x=0;x<m.length;x++)d.moveCell(m[x],g,y)}l&&i.fireEvent(new mxEventObject("cellsInserted","cells",m))}finally{i.model.endUpdate()}null!=m&&m.length>0&&(i.scrollCellToVisible(m[0]),i.setSelectionCells(m))}}mxEvent.consume(n)}})},Sidebar.prototype.createDragPreview=function(e,t){var l=document.createElement("div");return l.style.border="1px dashed black",l.style.width=e+"px",l.style.height=t+"px",l},Sidebar.prototype.dropAndConnect=function(e,t,l,r){var i=this.getDropAndConnectGeometry(e,t[r],l,t),n=[];if(null!=i){var a=this.editorUi.editor.graph;a.model.beginUpdate();try{var o=a.getCellGeometry(e),s=a.getCellGeometry(t[r]),h=a.model.getParent(e),m=!0;if(null!=a.layoutManager){var p=a.layoutManager.getLayout(h);if(null!=p&&p.constructor==mxStackLayout&&(m=!1,null!=(n=a.view.getState(h)))){w=new mxPoint(n.x/a.view.scale-a.view.translate.x,n.y/a.view.scale-a.view.translate.y);i.x+=w.x,i.y+=w.y;var d=i.getTerminalPoint(!1);null!=d&&(d.x+=w.x,d.y+=w.y)}}var c=s.x,u=s.y;a.model.isEdge(t[r])&&(c=0,u=0);var g=a.model.isEdge(e)||null!=o&&!o.relative&&m;if(t=a.importCells(t,i.x-(g?c:0),i.y-(g?u:0),g?h:null),n=t,a.model.isEdge(e))a.model.setTerminal(e,t[r],l==mxConstants.DIRECTION_NORTH);else if(a.model.isEdge(t[r])){a.model.setTerminal(t[r],e,!0);var y=a.getCellGeometry(t[r]);if(y.points=null,null!=y.getTerminalPoint(!1))y.setTerminalPoint(i.getTerminalPoint(!1),!1);else if(g&&a.model.isVertex(h)){var x=a.view.getState(h),w=new mxPoint(x.x/a.view.scale-a.view.translate.x,x.y/a.view.scale-a.view.translate.y);a.cellsMoved(t,w.x,w.y,null,null,!0)}}else s=a.getCellGeometry(t[r]),c=i.x-Math.round(s.x),u=i.y-Math.round(s.y),i.x=Math.round(s.x),i.y=Math.round(s.y),a.model.setGeometry(t[r],i),a.cellsMoved(t,c,u,null,null,!0),n=t.slice(),t.push(a.insertEdge(null,null,"",e,t[r],a.createCurrentEdgeStyle()));a.fireEvent(new mxEventObject("cellsInserted","cells",t))}finally{a.model.endUpdate()}}return n},Sidebar.prototype.getDropAndConnectGeometry=function(e,t,l,r){var i=this.editorUi.editor.graph,n=i.view,a=r.length>1,o=i.getCellGeometry(e),s=i.getCellGeometry(t);if(null!=o&&null!=s)if(s=s.clone(),i.model.isEdge(e)){var h=(d=i.view.getState(e)).absolutePoints,m=h[0],p=h[h.length-1];l==mxConstants.DIRECTION_NORTH?(s.x=m.x/n.scale-n.translate.x-s.width/2,s.y=m.y/n.scale-n.translate.y-s.height/2):(s.x=p.x/n.scale-n.translate.x-s.width/2,s.y=p.y/n.scale-n.translate.y-s.height/2)}else{if(o.relative){var d=i.view.getState(e);(o=o.clone()).x=(d.x-n.translate.x)/n.scale,o.y=(d.y-n.translate.y)/n.scale}var c=i.defaultEdgeLength;if(i.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=s.getTerminalPoint(!1)){var m=s.getTerminalPoint(!0),u=(p=s.getTerminalPoint(!1)).x-m.x,g=p.y-m.y;c=Math.sqrt(u*u+g*g),s.x=o.getCenterX(),s.y=o.getCenterY(),s.width=1,s.height=1,l==mxConstants.DIRECTION_NORTH?(s.height=c,s.y=o.y-c,s.setTerminalPoint(new mxPoint(s.x,s.y),!1)):l==mxConstants.DIRECTION_EAST?(s.width=c,s.x=o.x+o.width,s.setTerminalPoint(new mxPoint(s.x+s.width,s.y),!1)):l==mxConstants.DIRECTION_SOUTH?(s.height=c,s.y=o.y+o.height,s.setTerminalPoint(new mxPoint(s.x,s.y+s.height),!1)):l==mxConstants.DIRECTION_WEST&&(s.width=c,s.x=o.x-c,s.setTerminalPoint(new mxPoint(s.x,s.y),!1))}else if(!a&&s.width>45&&s.height>45&&o.width>45&&o.height>45&&(s.width=s.width*(o.height/s.height),s.height=o.height),s.x=o.x+o.width/2-s.width/2,s.y=o.y+o.height/2-s.height/2,l==mxConstants.DIRECTION_NORTH?s.y=s.y-o.height/2-s.height/2-c:l==mxConstants.DIRECTION_EAST?s.x=s.x+o.width/2+s.width/2+c:l==mxConstants.DIRECTION_SOUTH?s.y=s.y+o.height/2+s.height/2+c:l==mxConstants.DIRECTION_WEST&&(s.x=s.x-o.width/2-s.width/2-c),i.model.isEdge(t)&&null!=s.getTerminalPoint(!0)&&null!=t.getTerminal(!1)){var y=i.getCellGeometry(t.getTerminal(!1));null!=y&&(l==mxConstants.DIRECTION_NORTH?(s.x-=y.getCenterX(),s.y-=y.getCenterY()+y.height/2):l==mxConstants.DIRECTION_EAST?(s.x-=y.getCenterX()-y.width/2,s.y-=y.getCenterY()):l==mxConstants.DIRECTION_SOUTH?(s.x-=y.getCenterX(),s.y-=y.getCenterY()-y.height/2):l==mxConstants.DIRECTION_WEST&&(s.x-=y.getCenterX()+y.width/2,s.y-=y.getCenterY()))}}return s},Sidebar.prototype.createDragSource=function(e,t,l,r,i){function n(e,t){var l=null;return mxClient.IS_IE&&!mxClient.IS_SVG?(mxClient.IS_IE6&&"CSS1Compat"!=document.compatMode?((l=document.createElement(mxClient.VML_PREFIX+":image")).setAttribute("src",e.src),l.style.borderStyle="none"):((l=document.createElement("div")).style.backgroundImage="url("+e.src+")",l.style.backgroundPosition="center",l.style.backgroundRepeat="no-repeat"),l.style.width=e.width+4+"px",l.style.height=e.height+4+"px",l.style.display=mxClient.IS_QUIRKS?"inline":"inline-block"):((l=mxUtils.createImage(e.src)).style.width=e.width+"px",l.style.height=e.height+"px"),null!=t&&l.setAttribute("title",t),mxUtils.setOpacity(l,e==this.refreshTarget?30:20),l.style.position="absolute",l.style.cursor="crosshair",l}function a(e,t,l,r){return null!=r.parentNode&&(mxUtils.contains(l,e,t)?(mxUtils.setOpacity(r,100),P=r):mxUtils.setOpacity(r,r==C?30:20)),l}for(var o=this.editorUi,s=o.editor.graph,h=null,m=null,p=this,d=0;d<r.length&&(null==m&&this.editorUi.editor.graph.model.isVertex(r[d])?m=d:null==h&&this.editorUi.editor.graph.model.isEdge(r[d])&&null==this.editorUi.editor.graph.model.getTerminal(r[d],!0)&&(h=d),null==m||null==h);d++);var c=mxUtils.makeDraggable(e,this.editorUi.editor.graph,mxUtils.bind(this,function(e,l,i,n,a){if(null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=r&&null!=x&&P==C){var o=e.isCellSelected(x.cell)?e.getSelectionCells():[x.cell],s=this.updateShapes(e.model.isEdge(x.cell)?r[0]:r[m],o);e.setSelectionCells(s)}else if(null!=r&&null!=P&&null!=g&&P!=C){var p=e.model.isEdge(g.cell)||null==h?m:h;e.setSelectionCells(this.dropAndConnect(g.cell,r,I,p))}else t.apply(this,arguments);null!=this.editorUi.hoverIcons&&this.editorUi.hoverIcons.update(e.view.getState(e.getSelectionCell()))}),l,0,0,this.editorUi.editor.graph.autoscroll,!0,!0);this.editorUi.editor.graph.addListener(mxEvent.ESCAPE,function(e,t){c.isActive()&&c.reset()});var u=c.mouseDown;c.mouseDown=function(e){mxEvent.isPopupTrigger(e)||mxEvent.isMultiTouchEvent(e)||(s.stopEditing(),u.apply(this,arguments))};var g=null,y=null,x=null,w=!1,f=n(this.triangleUp,mxResources.get("connect")),v=n(this.triangleRight,mxResources.get("connect")),b=n(this.triangleDown,mxResources.get("connect")),E=n(this.triangleLeft,mxResources.get("connect")),C=n(this.refreshTarget,mxResources.get("replace")),S=null,T=n(this.roundDrop),A=n(this.roundDrop),I=mxConstants.DIRECTION_NORTH,P=null,V=c.createPreviewElement;c.createPreviewElement=function(e){var t=V.apply(this,arguments);return mxClient.IS_SVG&&(t.style.pointerEvents="none"),this.previewElementWidth=t.style.width,this.previewElementHeight=t.style.height,t};var k=c.dragEnter;c.dragEnter=function(e,t){null!=o.hoverIcons&&o.hoverIcons.setDisplay("none"),k.apply(this,arguments)};var R=c.dragExit;c.dragExit=function(e,t){null!=o.hoverIcons&&o.hoverIcons.setDisplay(""),R.apply(this,arguments)},c.dragOver=function(e,t){if(mxDragSource.prototype.dragOver.apply(this,arguments),null!=this.currentGuide&&null!=P&&this.currentGuide.hide(),null!=this.previewElement){var l=e.view;if(null!=x&&P==C)this.previewElement.style.display=e.model.isEdge(x.cell)?"none":"",this.previewElement.style.left=x.x+"px",this.previewElement.style.top=x.y+"px",this.previewElement.style.width=x.width+"px",this.previewElement.style.height=x.height+"px";else if(null!=g&&null!=P){var n=e.model.isEdge(g.cell)||null==h?m:h,a=p.getDropAndConnectGeometry(g.cell,r[n],I,r),o=e.model.isEdge(g.cell)?null:e.getCellGeometry(g.cell),s=e.getCellGeometry(r[n]),d=e.model.getParent(g.cell),u=l.translate.x*l.scale,y=l.translate.y*l.scale;if(null!=o&&!o.relative&&e.model.isVertex(d)){var w=l.getState(d);u=w.x,y=w.y}var f=s.x,v=s.y;e.model.isEdge(r[n])&&(f=0,v=0),this.previewElement.style.left=(a.x-f)*l.scale+u+"px",this.previewElement.style.top=(a.y-v)*l.scale+y+"px",1==r.length&&(this.previewElement.style.width=a.width*l.scale+"px",this.previewElement.style.height=a.height*l.scale+"px"),this.previewElement.style.display=""}else null!=c.currentHighlight.state&&e.model.isEdge(c.currentHighlight.state.cell)?(this.previewElement.style.left=Math.round(parseInt(this.previewElement.style.left)-i.width*l.scale/2)+"px",this.previewElement.style.top=Math.round(parseInt(this.previewElement.style.top)-i.height*l.scale/2)+"px"):(this.previewElement.style.width=this.previewElementWidth,this.previewElement.style.height=this.previewElementHeight,this.previewElement.style.display="")}};var D=(new Date).getTime(),L=0,z=null,M=this.editorUi.editor.graph.getCellStyle(r[0]);return c.getDropTarget=mxUtils.bind(this,function(e,t,l,i){var n=mxEvent.isAltDown(i)||null==r?null:e.getCellAt(t,l);if(null!=n&&!this.graph.isCellConnectable(n)){var o=this.graph.getModel().getParent(n);this.graph.getModel().isVertex(o)&&this.graph.isCellConnectable(o)&&(n=o)}e.isCellLocked(n)&&(n=null);var s=e.view.getState(n);P=null;var h=null;if(z!=s?(z=s,D=(new Date).getTime(),L=0,null!=this.updateThread&&window.clearTimeout(this.updateThread),null!=s&&(this.updateThread=window.setTimeout(function(){null==P&&(z=s,c.getDropTarget(e,t,l,i))},this.dropTargetDelay+10))):L=(new Date).getTime()-D,L<2500&&null!=s&&!mxEvent.isShiftDown(i)&&(mxUtils.getValue(s.style,mxConstants.STYLE_SHAPE)!=mxUtils.getValue(M,mxConstants.STYLE_SHAPE)&&mxUtils.getValue(s.style,mxConstants.STYLE_STROKECOLOR,mxConstants.NONE)!=mxConstants.NONE||"image"==mxUtils.getValue(M,mxConstants.STYLE_SHAPE)||L>1500||e.model.isEdge(s.cell))&&L>this.dropTargetDelay&&(e.model.isVertex(s.cell)&&null!=m||e.model.isEdge(s.cell)&&e.model.isEdge(r[0]))){x=s;p=e.model.isEdge(s.cell)?e.view.getPoint(s):new mxPoint(s.getCenterX(),s.getCenterY());p=new mxRectangle(p.x-this.refreshTarget.width/2,p.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),C.style.left=Math.floor(p.x)+"px",C.style.top=Math.floor(p.y)+"px",null==S&&(e.container.appendChild(C),S=C.parentNode),a(t,l,p,C)}else if(null==x||!mxUtils.contains(x,t,l)||L>1500&&!mxEvent.isShiftDown(i))x=null,null!=S&&(C.parentNode.removeChild(C),S=null);else if(null!=x&&null!=S){var p=e.model.isEdge(x.cell)?e.view.getPoint(x):new mxPoint(x.getCenterX(),x.getCenterY());p=new mxRectangle(p.x-this.refreshTarget.width/2,p.y-this.refreshTarget.height/2,this.refreshTarget.width,this.refreshTarget.height),a(t,l,p,C)}if(w&&null!=g&&!mxEvent.isAltDown(i)&&null==P){if(h=mxRectangle.fromRectangle(g),e.model.isEdge(g.cell)){var d=g.absolutePoints;if(null!=T.parentNode){R=d[0];h.add(a(t,l,new mxRectangle(R.x-this.roundDrop.width/2,R.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),T))}if(null!=A.parentNode){F=d[d.length-1];h.add(a(t,l,new mxRectangle(F.x-this.roundDrop.width/2,F.y-this.roundDrop.height/2,this.roundDrop.width,this.roundDrop.height),A))}}else{G=mxRectangle.fromRectangle(g);null!=g.shape&&null!=g.shape.boundingBox&&(G=mxRectangle.fromRectangle(g.shape.boundingBox)),G.grow(this.graph.tolerance),G.grow(HoverIcons.prototype.arrowSpacing),null!=(U=this.graph.selectionCellsHandler.getHandler(g.cell))&&(G.x-=U.horizontalOffset/2,G.y-=U.verticalOffset/2,G.width+=U.horizontalOffset,G.height+=U.verticalOffset,null!=U.rotationShape&&null!=U.rotationShape.node&&"hidden"!=U.rotationShape.node.style.visibility&&"none"!=U.rotationShape.node.style.display&&null!=U.rotationShape.boundingBox&&G.add(U.rotationShape.boundingBox)),h.add(a(t,l,new mxRectangle(g.getCenterX()-this.triangleUp.width/2,G.y-this.triangleUp.height,this.triangleUp.width,this.triangleUp.height),f)),h.add(a(t,l,new mxRectangle(G.x+G.width,g.getCenterY()-this.triangleRight.height/2,this.triangleRight.width,this.triangleRight.height),v)),h.add(a(t,l,new mxRectangle(g.getCenterX()-this.triangleDown.width/2,G.y+G.height,this.triangleDown.width,this.triangleDown.height),b)),h.add(a(t,l,new mxRectangle(G.x-this.triangleLeft.width,g.getCenterY()-this.triangleLeft.height/2,this.triangleLeft.width,this.triangleLeft.height),E))}null!=h&&h.grow(10)}I=mxConstants.DIRECTION_NORTH,P==v?I=mxConstants.DIRECTION_EAST:P==b||P==A?I=mxConstants.DIRECTION_SOUTH:P==E&&(I=mxConstants.DIRECTION_WEST),null!=x&&P==C&&(s=x);var u=(null==m||e.isCellConnectable(r[m]))&&(e.model.isEdge(n)&&null!=m||e.model.isVertex(n)&&e.isCellConnectable(n));if(null!=g&&L>=5e3||g!=s&&(null==h||!mxUtils.contains(h,t,l)||L>500&&null==P&&u))if(w=!1,null!=(g=L<5e3&&L>this.dropTargetDelay||e.model.isEdge(n)?s:null)&&u){for(var V=[T,A,f,v,b,E],k=0;k<V.length;k++)null!=V[k].parentNode&&V[k].parentNode.removeChild(V[k]);if(e.model.isEdge(n)){if(null!=(d=s.absolutePoints)){var R=d[0],F=d[d.length-1],N=e.tolerance;new mxRectangle(t-N,l-N,2*N,2*N);T.style.left=Math.floor(R.x-this.roundDrop.width/2)+"px",T.style.top=Math.floor(R.y-this.roundDrop.height/2)+"px",A.style.left=Math.floor(F.x-this.roundDrop.width/2)+"px",A.style.top=Math.floor(F.y-this.roundDrop.height/2)+"px",null==e.model.getTerminal(n,!0)&&e.container.appendChild(T),null==e.model.getTerminal(n,!1)&&e.container.appendChild(A)}}else{var G=mxRectangle.fromRectangle(s);null!=s.shape&&null!=s.shape.boundingBox&&(G=mxRectangle.fromRectangle(s.shape.boundingBox)),G.grow(this.graph.tolerance),G.grow(HoverIcons.prototype.arrowSpacing);var U=this.graph.selectionCellsHandler.getHandler(s.cell);null!=U&&(G.x-=U.horizontalOffset/2,G.y-=U.verticalOffset/2,G.width+=U.horizontalOffset,G.height+=U.verticalOffset,null!=U.rotationShape&&null!=U.rotationShape.node&&"hidden"!=U.rotationShape.node.style.visibility&&"none"!=U.rotationShape.node.style.display&&null!=U.rotationShape.boundingBox&&G.add(U.rotationShape.boundingBox)),f.style.left=Math.floor(s.getCenterX()-this.triangleUp.width/2)+"px",f.style.top=Math.floor(G.y-this.triangleUp.height)+"px",v.style.left=Math.floor(G.x+G.width)+"px",v.style.top=Math.floor(s.getCenterY()-this.triangleRight.height/2)+"px",b.style.left=f.style.left,b.style.top=Math.floor(G.y+G.height)+"px",E.style.left=Math.floor(G.x-this.triangleLeft.width)+"px",E.style.top=v.style.top,"eastwest"!=s.style.portConstraint&&(e.container.appendChild(f),e.container.appendChild(b)),e.container.appendChild(v),e.container.appendChild(E)}null!=s&&null!=(y=e.selectionCellsHandler.getHandler(s.cell))&&null!=y.setHandlesVisible&&y.setHandlesVisible(!1),w=!0}else for(var V=[T,A,f,v,b,E],k=0;k<V.length;k++)null!=V[k].parentNode&&V[k].parentNode.removeChild(V[k]);w||null==y||y.setHandlesVisible(!0);var O=mxEvent.isAltDown(i)&&!mxEvent.isShiftDown(i)||null!=x&&P==C?null:mxDragSource.prototype.getDropTarget.apply(this,arguments),H=e.getModel();if(null!=O&&(null!=P||!e.isSplitTarget(O,r,i))){for(;null!=O&&!e.isValidDropTarget(O,r,i)&&H.isVertex(H.getParent(O));)O=H.getParent(O);(e.view.currentRoot==O||!e.isValidRoot(O)&&0==e.getModel().getChildCount(O)||e.isCellLocked(O)||H.isEdge(O))&&(O=null)}return O}),c.stopDrag=function(){mxDragSource.prototype.stopDrag.apply(this,arguments);for(var e=[T,A,C,f,v,b,E],t=0;t<e.length;t++)null!=e[t].parentNode&&e[t].parentNode.removeChild(e[t]);null!=g&&null!=y&&y.reset(),y=null,g=null,x=null,S=null,P=null},c},Sidebar.prototype.itemClicked=function(e,t,l,r){var i=this.editorUi.editor.graph;if(mxEvent.isAltDown(l)){if(1==i.getSelectionCount()&&i.model.isVertex(i.getSelectionCell())){for(var n=null,a=0;a<e.length&&null==n;a++)i.model.isVertex(e[a])&&(n=a);null!=n&&(i.setSelectionCells(this.dropAndConnect(i.getSelectionCell(),e,mxEvent.isMetaDown(l)||mxEvent.isControlDown(l)?mxEvent.isShiftDown(l)?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH:mxEvent.isShiftDown(l)?mxConstants.DIRECTION_EAST:mxConstants.DIRECTION_SOUTH,n)),i.scrollCellToVisible(i.getSelectionCell()))}}else if(mxEvent.isShiftDown(l))i.isSelectionEmpty()||(this.updateShapes(e[0],i.getSelectionCells()),i.scrollCellToVisible(i.getSelectionCell()));else{var o=i.getFreeInsertPoint();t.drop(i,l,null,o.x,o.y),null!=this.editorUi.hoverIcons&&(mxEvent.isTouchEvent(l)||mxEvent.isPenEvent(l))&&this.editorUi.hoverIcons.update(i.view.getState(i.getSelectionCell()))}},Sidebar.prototype.addClickHandler=function(e,t,l){var r=this.editorUi.editor.graph,i=t.mouseUp,n=null;mxEvent.addGestureListeners(e,function(e){n=new mxPoint(mxEvent.getClientX(e),mxEvent.getClientY(e))}),t.mouseUp=mxUtils.bind(this,function(a){if(!mxEvent.isPopupTrigger(a)&&null==this.currentGraph&&null!=n){var o=r.tolerance;Math.abs(n.x-mxEvent.getClientX(a))<=o&&Math.abs(n.y-mxEvent.getClientY(a))<=o&&this.itemClicked(l,t,a,e)}i.apply(t,arguments),n=null,this.currentElt=e})},Sidebar.prototype.createVertexTemplateEntry=function(e,t,l,r,i,n,a,o){return o=null!=o&&o.length>0?o:i.toLowerCase(),this.addEntry(o,mxUtils.bind(this,function(){return this.createVertexTemplate(e,t,l,r,i,n,a)}))},Sidebar.prototype.createVertexTemplate=function(e,t,l,r,i,n,a,o){var s=[new mxCell(null!=r?r:"",new mxGeometry(0,0,t,l),e)];return s[0].vertex=!0,this.createVertexTemplateFromCells(s,t,l,i,n,a,o)},Sidebar.prototype.createVertexTemplateFromData=function(e,t,l,r,i,n,a){var o=mxUtils.parseXml(this.graph.decompress(e)),s=new mxCodec(o),h=new mxGraphModel;s.decode(o.documentElement,h);var m=this.graph.cloneCells(h.root.getChildAt(0).children);return this.createVertexTemplateFromCells(m,t,l,r,i,n,a)},Sidebar.prototype.createVertexTemplateFromCells=function(e,t,l,r,i,n,a){return this.createItem(e,r,i,n,t,l,a)},Sidebar.prototype.createEdgeTemplateEntry=function(e,t,l,r,i,n,a,o){return a=null!=a&&a.length>0?a:i.toLowerCase(),this.addEntry(a,mxUtils.bind(this,function(){return this.createEdgeTemplate(e,t,l,r,i,n,o)}))},Sidebar.prototype.createEdgeTemplate=function(e,t,l,r,i,n,a){var o=new mxCell(null!=r?r:"",new mxGeometry(0,0,t,l),e);return o.geometry.setTerminalPoint(new mxPoint(0,l),!0),o.geometry.setTerminalPoint(new mxPoint(t,0),!1),o.geometry.relative=!0,o.edge=!0,this.createEdgeTemplateFromCells([o],t,l,i,n,a)},Sidebar.prototype.createEdgeTemplateFromCells=function(e,t,l,r,i,n){return this.createItem(e,r,i,!0,t,l,n)},Sidebar.prototype.addPaletteFunctions=function(e,t,l,r){this.addPalette(e,t,l,mxUtils.bind(this,function(e){for(var t=0;t<r.length;t++)e.appendChild(r[t](e))}))},Sidebar.prototype.addPalette=function(e,t,l,r){var i=this.createTitle(t);this.container.appendChild(i);var n=document.createElement("div");n.className="geSidebar",mxClient.IS_POINTER&&(n.style.touchAction="none"),mxEvent.addListener(n,"mousemove",mxUtils.bind(this,function(e){mxEvent.getSource(e)==n?n.setAttribute("title",mxResources.get("sidebarTooltip")):n.removeAttribute("title")})),l?(r(n),r=null):n.style.display="none",this.addFoldingHandler(i,n,r);var a=document.createElement("div");return a.appendChild(n),this.container.appendChild(a),null!=e&&(this.palettes[e]=[i,a]),n},Sidebar.prototype.addFoldingHandler=function(e,t,l){var r=!1;(!mxClient.IS_IE||document.documentMode>=8)&&(e.style.backgroundImage="none"==t.style.display?"url('"+this.collapsedImage+"')":"url('"+this.expandedImage+"')"),e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="0% 50%",mxEvent.addListener(e,"click",mxUtils.bind(this,function(i){if("none"==t.style.display){if(r)t.style.display="block";else if(r=!0,null!=l){e.style.cursor="wait";var n=e.innerHTML;e.innerHTML=mxResources.get("loading")+"...",window.setTimeout(function(){var r=mxClient.NO_FO;mxClient.NO_FO=Editor.prototype.originalNoForeignObject,l(t),mxClient.NO_FO=r,t.style.display="block",e.style.cursor="",e.innerHTML=n},0)}else t.style.display="block";e.style.backgroundImage="url('"+this.expandedImage+"')"}else e.style.backgroundImage="url('"+this.collapsedImage+"')",t.style.display="none";mxEvent.consume(i)}))},Sidebar.prototype.removePalette=function(e){var t=this.palettes[e];if(null!=t){this.palettes[e]=null;for(var l=0;l<t.length;l++)this.container.removeChild(t[l]);return!0}return!1},Sidebar.prototype.addImagePalette=function(e,t,l,r,i,n,a){for(var o=[],s=0;s<i.length;s++)mxUtils.bind(this,function(e,t,i){if(null==i){var n=e.lastIndexOf("/"),a=e.lastIndexOf(".");i=e.substring(n>=0?n+1:0,a>=0?a:e.length).replace(/[-_]/g," ")}o.push(this.createVertexTemplateEntry("image;html=1;labelBackgroundColor=#ffffff;image="+l+e+r,this.defaultImageWidth,this.defaultImageHeight,"",t,null!=t,null,this.filterTags(i)))})(i[s],null!=n?n[s]:null,null!=a?a[i[s]]:null);this.addPaletteFunctions(e,t,!1,o)},Sidebar.prototype.getTagsForStencil=function(e,t,l){for(var r=e.split("."),i=1;i<r.length;i++)r[i]=r[i].replace(/_/g," ");return r.push(t.replace(/_/g," ")),null!=l&&r.push(l),r.slice(1,r.length)},Sidebar.prototype.addStencilPalette=function(e,t,l,r,i,n,a,o,s){if(a=null!=a?a:1,this.addStencilsToIndex){var h=[];if(null!=s)for(var m=0;m<s.length;m++)h.push(s[m]);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,function(e,t,l,n,s){if(null==i||mxUtils.indexOf(i,t)<0){var m=this.getTagsForStencil(e,t),p=null!=o?o[t]:null;null!=p&&m.push(p),h.push(this.createVertexTemplateEntry("shape="+e+t.toLowerCase()+r,Math.round(n*a),Math.round(s*a),"",t.replace(/_/g," "),null,null,this.filterTags(m.join(" "))))}}),!0,!0),this.addPaletteFunctions(e,t,!1,h)}else this.addPalette(e,t,!1,mxUtils.bind(this,function(e){if(null==r&&(r=""),null!=n&&n.call(this,e),null!=s)for(var t=0;t<s.length;t++)s[t](e);mxStencilRegistry.loadStencilSet(l,mxUtils.bind(this,function(t,l,n,o,s){(null==i||mxUtils.indexOf(i,l)<0)&&e.appendChild(this.createVertexTemplate("shape="+t+l.toLowerCase()+r,Math.round(o*a),Math.round(s*a),"",l.replace(/_/g," "),!0))}),!0)}))},Sidebar.prototype.destroy=function(){null!=this.graph&&(null!=this.graph.container&&null!=this.graph.container.parentNode&&this.graph.container.parentNode.removeChild(this.graph.container),this.graph.destroy(),this.graph=null),null!=this.pointerUpHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerup":"mouseup",this.pointerUpHandler),this.pointerUpHandler=null),null!=this.pointerDownHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerdown":"mousedown",this.pointerDownHandler),this.pointerDownHandler=null),null!=this.pointerMoveHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointermove":"mousemove",this.pointerMoveHandler),this.pointerMoveHandler=null),null!=this.pointerOutHandler&&(mxEvent.removeListener(document,mxClient.IS_POINTER?"pointerout":"mouseout",this.pointerOutHandler),this.pointerOutHandler=null)};